<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Sora:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f; --bg-card: #12121a; --bg-header: #1a1a24;
            --text-primary: #e0e0e0; --text-green: #4ade80; --text-cyan: #22d3ee;
            --text-yellow: #facc15; --text-red: #f87171; --text-orange: #fb923c;
            --border-color: #2a2a3a;
            --linux-color: #f5a623; --docker-color: #2496ed; --k8s-color: #326ce5; --ansible-color: #ee0000;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Sora', sans-serif; background: var(--bg-primary); min-height: 100vh; color: var(--text-primary); padding: 2rem; }
        .container { max-width: 1000px; margin: 0 auto; }
        .page-header { text-align: center; margin-bottom: 2rem; }
        .page-header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .page-header h1 span { color: var(--text-green); }
        .page-header p { color: #888; }
        .back-home { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--text-cyan); text-decoration: none; margin-bottom: 1rem; transition: all 0.3s ease; }
        .back-home:hover { color: var(--text-green); }
        
        .category-selection { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; }
        .category-card { background: var(--bg-card); border: 2px solid var(--border-color); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .category-card:hover { transform: translateY(-5px); }
        .category-card.linux { border-color: var(--linux-color); }
        .category-card.linux:hover { box-shadow: 0 10px 40px rgba(245, 166, 35, 0.2); }
        .category-card.docker { border-color: var(--docker-color); }
        .category-card.docker:hover { box-shadow: 0 10px 40px rgba(36, 150, 237, 0.2); }
        .category-card.kubernetes { border-color: var(--k8s-color); }
        .category-card.kubernetes:hover { box-shadow: 0 10px 40px rgba(50, 108, 229, 0.2); }
        .category-card.ansible { border-color: var(--ansible-color); }
        .category-card.ansible:hover { box-shadow: 0 10px 40px rgba(238, 0, 0, 0.2); }
        .category-icon { font-size: 3.5rem; margin-bottom: 1rem; }
        .category-card h3 { font-size: 1.4rem; margin-bottom: 0.5rem; }
        .category-card.linux h3 { color: var(--linux-color); }
        .category-card.docker h3 { color: var(--docker-color); }
        .category-card.kubernetes h3 { color: var(--k8s-color); }
        .category-card.ansible h3 { color: var(--ansible-color); }
        .category-card p { color: #888; font-size: 0.85rem; margin-bottom: 0.5rem; }
        .category-levels { font-size: 0.8rem; color: #666; }

        .level-selection { display: none; text-align: center; }
        .level-selection.active { display: block; }
        .level-header { display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 2rem; }
        .level-header-icon { font-size: 3rem; }
        .level-header h2 { font-size: 2rem; }
        .back-btn { background: var(--bg-card); border: 1px solid var(--border-color); color: #888; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-family: 'Sora', sans-serif; margin-bottom: 2rem; transition: all 0.3s ease; }
        .back-btn:hover { border-color: var(--text-cyan); color: var(--text-cyan); }
        .levels-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.5rem; max-width: 800px; margin: 0 auto; }
        .level-card { background: var(--bg-card); border: 2px solid var(--border-color); border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; }
        .level-card:hover { transform: translateY(-5px); }
        .level-card.beginner { border-color: var(--text-green); }
        .level-card.beginner:hover { box-shadow: 0 10px 30px rgba(74, 222, 128, 0.2); }
        .level-card.intermediate { border-color: var(--text-yellow); }
        .level-card.intermediate:hover { box-shadow: 0 10px 30px rgba(250, 204, 21, 0.2); }
        .level-card.advanced { border-color: var(--text-orange); }
        .level-card.advanced:hover { box-shadow: 0 10px 30px rgba(251, 146, 60, 0.2); }
        .level-card.expert { border-color: var(--text-red); }
        .level-card.expert:hover { box-shadow: 0 10px 30px rgba(248, 113, 113, 0.2); }
        .level-card h4 { font-size: 1.2rem; margin-bottom: 0.5rem; }
        .level-card.beginner h4 { color: var(--text-green); }
        .level-card.intermediate h4 { color: var(--text-yellow); }
        .level-card.advanced h4 { color: var(--text-orange); }
        .level-card.expert h4 { color: var(--text-red); }
        .level-card .stars { font-size: 1rem; margin-bottom: 0.5rem; }
        .level-card .questions-count { font-size: 0.85rem; color: #888; }

        .quiz-container { display: none; }
        .quiz-container.active { display: block; }
        .stats-bar { display: flex; justify-content: space-between; align-items: center; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .stat-item { display: flex; align-items: center; gap: 0.5rem; }
        .stat-label { color: #888; font-size: 0.85rem; }
        .stat-value { font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 1.1rem; }
        .stat-value.score { color: var(--text-green); }
        .stat-value.question { color: var(--text-cyan); }
        .stat-value.streak { color: var(--text-orange); }
        .stat-value.timer { color: var(--text-yellow); }
        .quit-btn { background: rgba(248, 113, 113, 0.1); border: 1px solid var(--text-red); color: var(--text-red); padding: 0.5rem 1rem; border-radius: 8px; font-family: 'Sora', sans-serif; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .quit-btn:hover { background: var(--text-red); color: var(--bg-primary); }
        .streak-fire { font-size: 1.2rem; animation: fire 0.5s ease infinite alternate; }
        @keyframes fire { from { transform: scale(1); } to { transform: scale(1.2); } }

        .progress-container { background: var(--bg-card); border-radius: 10px; height: 8px; margin-bottom: 1.5rem; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--text-green), var(--text-cyan)); border-radius: 10px; transition: width 0.5s ease; }

        .question-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; }
        .question-header { background: var(--bg-header); padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
        .question-category { padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 600; }
        .question-category.linux { background: rgba(245, 166, 35, 0.2); color: var(--linux-color); }
        .question-category.docker { background: rgba(36, 150, 237, 0.2); color: var(--docker-color); }
        .question-category.kubernetes { background: rgba(50, 108, 229, 0.2); color: var(--k8s-color); }
        .question-category.ansible { background: rgba(238, 0, 0, 0.2); color: var(--ansible-color); }
        .question-number { background: var(--text-cyan); color: var(--bg-primary); padding: 0.25rem 0.75rem; border-radius: 50px; font-weight: 700; font-size: 0.85rem; }
        .question-difficulty { padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 600; }
        .question-difficulty.easy { background: rgba(74, 222, 128, 0.2); color: var(--text-green); }
        .question-difficulty.medium { background: rgba(250, 204, 21, 0.2); color: var(--text-yellow); }
        .question-difficulty.hard { background: rgba(251, 146, 60, 0.2); color: var(--text-orange); }
        .question-difficulty.expert { background: rgba(248, 113, 113, 0.2); color: var(--text-red); }
        .question-points { margin-left: auto; color: var(--text-yellow); font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; }

        .question-body { padding: 2rem; }
        .question-text { font-size: 1.3rem; margin-bottom: 1rem; line-height: 1.5; }
        .question-hint { background: rgba(34, 211, 238, 0.1); border-left: 3px solid var(--text-cyan); padding: 1rem; margin-bottom: 1.5rem; border-radius: 0 8px 8px 0; font-size: 0.95rem; color: #aaa; }
        .question-hint code { background: var(--bg-header); padding: 0.2rem 0.5rem; border-radius: 4px; font-family: 'JetBrains Mono', monospace; color: var(--text-cyan); }

        .answer-section { display: flex; gap: 1rem; align-items: center; }
        .prompt-symbol { color: var(--text-green); font-family: 'JetBrains Mono', monospace; font-size: 1.2rem; }
        .answer-input { flex: 1; background: var(--bg-header); border: 2px solid var(--border-color); border-radius: 8px; padding: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 1.1rem; color: var(--text-primary); outline: none; transition: border-color 0.3s ease; }
        .answer-input:focus { border-color: var(--text-cyan); }
        .answer-input.correct { border-color: var(--text-green); background: rgba(74, 222, 128, 0.1); }
        .answer-input.incorrect { border-color: var(--text-red); background: rgba(248, 113, 113, 0.1); }
        .submit-btn { background: linear-gradient(135deg, var(--text-green), var(--text-cyan)); border: none; padding: 1rem 2rem; border-radius: 8px; font-family: 'Sora', sans-serif; font-size: 1rem; font-weight: 600; color: var(--bg-primary); cursor: pointer; transition: all 0.3s ease; }
        .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(74, 222, 128, 0.3); }
        .submit-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .feedback { margin-top: 1.5rem; padding: 1.5rem; border-radius: 12px; display: none; }
        .feedback.show { display: block; animation: fadeIn 0.3s ease; }
        .feedback.correct { background: rgba(74, 222, 128, 0.1); border: 1px solid var(--text-green); }
        .feedback.incorrect { background: rgba(248, 113, 113, 0.1); border: 1px solid var(--text-red); }
        .feedback-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem; font-size: 1.2rem; font-weight: 600; }
        .feedback.correct .feedback-header { color: var(--text-green); }
        .feedback.incorrect .feedback-header { color: var(--text-red); }
        .feedback-text { color: #aaa; line-height: 1.6; }
        .feedback-text code { background: var(--bg-header); padding: 0.2rem 0.5rem; border-radius: 4px; font-family: 'JetBrains Mono', monospace; color: var(--text-green); }
        .next-btn { margin-top: 1rem; background: var(--bg-card); border: 2px solid var(--text-cyan); padding: 0.75rem 1.5rem; border-radius: 8px; font-family: 'Sora', sans-serif; font-size: 1rem; font-weight: 600; color: var(--text-cyan); cursor: pointer; transition: all 0.3s ease; }
        .next-btn:hover { background: var(--text-cyan); color: var(--bg-primary); }

        .results-screen { display: none; text-align: center; padding: 3rem; }
        .results-screen.active { display: block; }
        .results-icon { font-size: 5rem; margin-bottom: 1.5rem; animation: bounce 1s ease infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .results-title { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .results-subtitle { color: #888; font-size: 1.2rem; margin-bottom: 2rem; }
        .results-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .result-stat { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; }
        .result-stat-value { font-family: 'JetBrains Mono', monospace; font-size: 2rem; font-weight: 700; color: var(--text-cyan); }
        .result-stat-label { color: #888; font-size: 0.9rem; margin-top: 0.5rem; }
        .results-grade { font-size: 1.5rem; padding: 1rem 2rem; border-radius: 12px; display: inline-block; margin-bottom: 2rem; }
        .results-grade.excellent { background: rgba(74, 222, 128, 0.2); color: var(--text-green); border: 2px solid var(--text-green); }
        .results-grade.good { background: rgba(34, 211, 238, 0.2); color: var(--text-cyan); border: 2px solid var(--text-cyan); }
        .results-grade.average { background: rgba(250, 204, 21, 0.2); color: var(--text-yellow); border: 2px solid var(--text-yellow); }
        .results-grade.poor { background: rgba(248, 113, 113, 0.2); color: var(--text-red); border: 2px solid var(--text-red); }
        .results-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        .restart-btn { background: linear-gradient(135deg, var(--text-green), var(--text-cyan)); border: none; padding: 1rem 2rem; border-radius: 8px; font-family: 'Sora', sans-serif; font-size: 1rem; font-weight: 600; color: var(--bg-primary); cursor: pointer; transition: all 0.3s ease; }
        .restart-btn:hover { transform: translateY(-2px); }
        .home-btn { background: var(--bg-card); border: 2px solid var(--border-color); padding: 1rem 2rem; border-radius: 8px; font-family: 'Sora', sans-serif; font-size: 1rem; font-weight: 600; color: var(--text-primary); cursor: pointer; transition: all 0.3s ease; text-decoration: none; }
        .home-btn:hover { border-color: var(--text-cyan); color: var(--text-cyan); }
        .timer-warning { animation: pulse-red 0.5s ease infinite; }
        @keyframes pulse-red { 0%, 100% { color: var(--text-yellow); } 50% { color: var(--text-red); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            body { padding: 1rem; }
            .page-header h1 { font-size: 1.8rem; }
            .category-selection { grid-template-columns: repeat(2, 1fr); }
            .answer-section { flex-direction: column; }
            .answer-input, .submit-btn { width: 100%; }
        }
        @media (max-width: 500px) { .category-selection { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-home">‚Üê Retour au portfolio</a>
        <div class="page-header">
            <h1>üéØ DevOps <span>Quiz</span></h1>
            <p>Teste tes connaissances en commandes DevOps !</p>
        </div>

        <div class="category-selection" id="categorySelection">
            <div class="category-card linux" onclick="selectCategory('linux')">
                <div class="category-icon">üêß</div>
                <h3>Linux</h3>
                <p>Commandes syst√®me, fichiers, processus...</p>
                <div class="category-levels">4 niveaux ‚Ä¢ 5 √† 20 questions</div>
            </div>
            <div class="category-card docker" onclick="selectCategory('docker')">
                <div class="category-icon">üê≥</div>
                <h3>Docker</h3>
                <p>Containers, images, volumes...</p>
                <div class="category-levels">3 niveaux ‚Ä¢ 5 √† 15 questions</div>
            </div>
            <div class="category-card kubernetes" onclick="selectCategory('kubernetes')">
                <div class="category-icon">‚ò∏Ô∏è</div>
                <h3>Kubernetes</h3>
                <p>Pods, deployments, services...</p>
                <div class="category-levels">3 niveaux ‚Ä¢ 5 √† 15 questions</div>
            </div>
            <div class="category-card ansible" onclick="selectCategory('ansible')">
                <div class="category-icon">üÖ∞Ô∏è</div>
                <h3>Ansible</h3>
                <p>Playbooks, modules, inventaires...</p>
                <div class="category-levels">3 niveaux ‚Ä¢ 5 √† 15 questions</div>
            </div>
        </div>

        <div class="level-selection" id="levelSelection">
            <button class="back-btn" onclick="backToCategories()">‚Üê Retour aux cat√©gories</button>
            <div class="level-header">
                <span class="level-header-icon" id="levelHeaderIcon">üêß</span>
                <h2 id="levelHeaderTitle">Linux</h2>
            </div>
            <div class="levels-grid" id="levelsGrid"></div>
        </div>

        <div class="quiz-container" id="quizContainer">
            <div class="stats-bar">
                <button class="quit-btn" onclick="quitQuiz()">‚úï Quitter</button>
                <div class="stat-item"><span class="stat-label">Score</span><span class="stat-value score" id="score">0</span></div>
                <div class="stat-item"><span class="stat-label">Question</span><span class="stat-value question"><span id="currentQ">1</span>/<span id="totalQ">10</span></span></div>
                <div class="stat-item"><span class="stat-label">S√©rie</span><span class="stat-value streak" id="streak">0</span><span class="streak-fire" id="streakFire" style="display: none;">üî•</span></div>
                <div class="stat-item"><span class="stat-label">Temps</span><span class="stat-value timer" id="timer">30</span></div>
            </div>
            <div class="progress-container"><div class="progress-bar" id="progressBar" style="width: 0%"></div></div>
            <div class="question-card">
                <div class="question-header">
                    <span class="question-category linux" id="questionCategory">Linux</span>
                    <span class="question-number" id="questionNumber">Q1</span>
                    <span class="question-difficulty easy" id="questionDifficulty">Facile</span>
                    <span class="question-points" id="questionPoints">+10 pts</span>
                </div>
                <div class="question-body">
                    <div class="question-text" id="questionText">Question...</div>
                    <div class="question-hint" id="questionHint">üí° <strong>Indice :</strong> ...</div>
                    <div class="answer-section">
                        <span class="prompt-symbol">$</span>
                        <input type="text" class="answer-input" id="answerInput" placeholder="Tape ta commande..." autocomplete="off">
                        <button class="submit-btn" id="submitBtn" onclick="checkAnswer()">Valider</button>
                    </div>
                    <div class="feedback" id="feedback">
                        <div class="feedback-header"><span id="feedbackIcon">‚úÖ</span><span id="feedbackTitle">Correct !</span></div>
                        <div class="feedback-text" id="feedbackText"></div>
                        <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Question suivante ‚Üí</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="results-screen" id="resultsScreen">
            <div class="results-icon" id="resultsIcon">üèÜ</div>
            <h2 class="results-title" id="resultsTitle">Quiz termin√© !</h2>
            <p class="results-subtitle" id="resultsSubtitle">Voici tes r√©sultats</p>
            <div class="results-stats">
                <div class="result-stat"><div class="result-stat-value" id="finalScore">0</div><div class="result-stat-label">Points</div></div>
                <div class="result-stat"><div class="result-stat-value" id="correctAnswers">0/10</div><div class="result-stat-label">Bonnes r√©ponses</div></div>
                <div class="result-stat"><div class="result-stat-value" id="bestStreak">0</div><div class="result-stat-label">Meilleure s√©rie</div></div>
                <div class="result-stat"><div class="result-stat-value" id="avgTime">0s</div><div class="result-stat-label">Temps moyen</div></div>
            </div>
            <div class="results-grade excellent" id="resultsGrade">üèÜ Expert !</div>
            <div class="results-buttons">
                <button class="restart-btn" onclick="restartQuiz()">üîÑ Rejouer</button>
                <button class="home-btn" onclick="backToLevels()">üìä Changer de niveau</button>
                <button class="home-btn" onclick="backToCategories()">üè† Cat√©gories</button>
            </div>
        </div>
    </div>

<script>
const questions = {
    linux: {
        beginner: [
            { question: "Comment lister les fichiers du r√©pertoire courant ?", hint: "Commande de 2 lettres", answers: ["ls"], explanation: "<code>ls</code> affiche le contenu d'un r√©pertoire.", points: 10 },
            { question: "Comment afficher le r√©pertoire de travail actuel ?", hint: "Print Working Directory", answers: ["pwd"], explanation: "<code>pwd</code> affiche le chemin courant.", points: 10 },
            { question: "Comment aller dans le dossier /home ?", hint: "Change Directory", answers: ["cd /home"], explanation: "<code>cd</code> change de r√©pertoire.", points: 10 },
            { question: "Comment afficher le contenu de 'test.txt' ?", hint: "Comme un chat...", answers: ["cat test.txt"], explanation: "<code>cat</code> affiche un fichier.", points: 10 },
            { question: "Comment cr√©er un fichier vide 'notes.txt' ?", hint: "Tu touches le fichier", answers: ["touch notes.txt"], explanation: "<code>touch</code> cr√©e un fichier vide.", points: 10 }
        ],
        intermediate: [
            { question: "Comment lister tous les fichiers y compris les cach√©s ?", hint: "ls avec option all", answers: ["ls -a", "ls -la", "ls -al"], explanation: "<code>ls -a</code> affiche les fichiers cach√©s.", points: 15 },
            { question: "Comment copier 'file.txt' vers 'backup.txt' ?", hint: "Copy", answers: ["cp file.txt backup.txt"], explanation: "<code>cp</code> copie des fichiers.", points: 15 },
            { question: "Comment supprimer le fichier 'old.txt' ?", hint: "Remove", answers: ["rm old.txt"], explanation: "<code>rm</code> supprime des fichiers.", points: 15 },
            { question: "Comment cr√©er le dossier 'projet' ?", hint: "Make Directory", answers: ["mkdir projet"], explanation: "<code>mkdir</code> cr√©e un r√©pertoire.", points: 15 },
            { question: "Comment d√©placer 'doc.txt' dans 'docs/' ?", hint: "Move", answers: ["mv doc.txt docs", "mv doc.txt docs/"], explanation: "<code>mv</code> d√©place des fichiers.", points: 15 },
            { question: "Comment rechercher 'error' dans 'log.txt' ?", hint: "Global Regular Expression Print", answers: ["grep error log.txt", "grep 'error' log.txt"], explanation: "<code>grep</code> recherche un motif.", points: 15 },
            { question: "Comment compter les lignes dans 'data.txt' ?", hint: "Word Count avec -l", answers: ["wc -l data.txt"], explanation: "<code>wc -l</code> compte les lignes.", points: 15 },
            { question: "Comment afficher les 10 premi√®res lignes de 'log.txt' ?", hint: "La t√™te du fichier", answers: ["head log.txt"], explanation: "<code>head</code> affiche les premi√®res lignes.", points: 15 },
            { question: "Comment renommer 'old.txt' en 'new.txt' ?", hint: "Move peut renommer", answers: ["mv old.txt new.txt"], explanation: "<code>mv</code> renomme aussi.", points: 15 },
            { question: "Comment supprimer un dossier 'tmp' et son contenu ?", hint: "rm avec -r", answers: ["rm -r tmp", "rm -rf tmp"], explanation: "<code>rm -r</code> supprime r√©cursivement.", points: 15 }
        ],
        advanced: [
            { question: "Comment trouver tous les fichiers .log dans /var ?", hint: "find avec -name", answers: ["find /var -name '*.log'", "find /var -name \"*.log\""], explanation: "<code>find</code> recherche des fichiers.", points: 20 },
            { question: "Comment donner les permissions 755 √† 'script.sh' ?", hint: "Change mode", answers: ["chmod 755 script.sh"], explanation: "<code>chmod 755</code> donne rwx/rx/rx.", points: 20 },
            { question: "Comment afficher l'espace disque en format lisible ?", hint: "Disk Free human-readable", answers: ["df -h"], explanation: "<code>df -h</code> affiche l'espace disque.", points: 20 },
            { question: "Comment afficher la m√©moire RAM ?", hint: "free human-readable", answers: ["free -h"], explanation: "<code>free -h</code> affiche la RAM.", points: 20 },
            { question: "Comment lister tous les processus ?", hint: "Process Status", answers: ["ps aux", "ps -aux"], explanation: "<code>ps aux</code> liste les processus.", points: 20 },
            { question: "Comment tuer le processus PID 1234 ?", hint: "Kill", answers: ["kill 1234"], explanation: "<code>kill</code> envoie un signal.", points: 20 },
            { question: "Comment cr√©er un lien symbolique 'link' vers 'file' ?", hint: "ln -s", answers: ["ln -s file link"], explanation: "<code>ln -s</code> cr√©e un lien symbolique.", points: 20 },
            { question: "Comment archiver 'dossier' dans 'archive.tar.gz' ?", hint: "tar create gzip", answers: ["tar -czvf archive.tar.gz dossier", "tar czvf archive.tar.gz dossier"], explanation: "<code>tar -czvf</code> cr√©e une archive.", points: 20 },
            { question: "Comment afficher les ports en √©coute ?", hint: "netstat ou ss", answers: ["netstat -tulpn", "ss -tulpn"], explanation: "<code>netstat -tulpn</code> affiche les ports.", points: 20 },
            { question: "Comment suivre les logs en temps r√©el ?", hint: "tail follow", answers: ["tail -f /var/log/syslog", "tail -f syslog"], explanation: "<code>tail -f</code> suit en temps r√©el.", points: 20 },
            { question: "Comment afficher l'utilisation disque du dossier courant ?", hint: "Disk Usage", answers: ["du -sh .", "du -sh"], explanation: "<code>du -sh</code> affiche la taille.", points: 20 },
            { question: "Comment changer le propri√©taire de 'file' en 'user' ?", hint: "Change Owner", answers: ["chown user file"], explanation: "<code>chown</code> change le propri√©taire.", points: 20 },
            { question: "Comment afficher les variables d'environnement ?", hint: "env ou printenv", answers: ["env", "printenv"], explanation: "<code>env</code> affiche les variables.", points: 20 },
            { question: "Comment trouver o√π est install√© 'nginx' ?", hint: "which", answers: ["which nginx", "whereis nginx"], explanation: "<code>which</code> trouve l'ex√©cutable.", points: 20 },
            { question: "Comment tuer tous les processus 'nginx' ?", hint: "killall", answers: ["killall nginx"], explanation: "<code>killall</code> tue par nom.", points: 20 }
        ],
        expert: [
            { question: "Comment trouver les fichiers modifi√©s dans les derni√®res 24h ?", hint: "find avec -mtime", answers: ["find /var -mtime -1", "find . -mtime -1"], explanation: "<code>find -mtime -1</code> trouve les fichiers r√©cents.", points: 25 },
            { question: "Comment remplacer 'foo' par 'bar' dans 'file.txt' avec sed ?", hint: "sed substitution", answers: ["sed -i 's/foo/bar/g' file.txt", "sed 's/foo/bar/g' file.txt"], explanation: "<code>sed 's/foo/bar/g'</code> remplace.", points: 25 },
            { question: "Comment afficher la 2√®me colonne d'un fichier CSV ?", hint: "awk ou cut", answers: ["awk -F',' '{print $2}' file.csv", "cut -d',' -f2 file.csv"], explanation: "<code>awk</code> ou <code>cut</code> extrait.", points: 25 },
            { question: "Comment cr√©er un utilisateur 'devops' avec son home ?", hint: "useradd -m", answers: ["useradd -m devops"], explanation: "<code>useradd -m</code> cr√©e l'utilisateur.", points: 25 },
            { question: "Comment planifier une t√¢che cron toutes les 5 minutes ?", hint: "*/5", answers: ["*/5 * * * *"], explanation: "<code>*/5 * * * *</code> = toutes les 5 min.", points: 25 },
            { question: "Comment cr√©er un tunnel SSH du port local 8080 vers remote:80 ?", hint: "ssh -L", answers: ["ssh -L 8080:localhost:80 user@remote"], explanation: "<code>ssh -L</code> cr√©e un tunnel.", points: 25 },
            { question: "Comment afficher les syscalls d'un processus PID 123 ?", hint: "strace", answers: ["strace -p 123"], explanation: "<code>strace -p</code> trace les syscalls.", points: 25 },
            { question: "Comment lister les modules kernel charg√©s ?", hint: "lsmod", answers: ["lsmod"], explanation: "<code>lsmod</code> liste les modules.", points: 25 },
            { question: "Comment configurer l'IP 192.168.1.10/24 sur eth0 ?", hint: "ip addr add", answers: ["ip addr add 192.168.1.10/24 dev eth0"], explanation: "<code>ip addr add</code> configure l'IP.", points: 25 },
            { question: "Comment voir les logs kernel en temps r√©el ?", hint: "dmesg follow", answers: ["dmesg -w", "dmesg --follow"], explanation: "<code>dmesg -w</code> suit les logs kernel.", points: 25 },
            { question: "Comment lister les disques et partitions ?", hint: "lsblk", answers: ["lsblk", "fdisk -l"], explanation: "<code>lsblk</code> liste les disques.", points: 25 },
            { question: "Comment scanner les ports de 192.168.1.1 ?", hint: "nmap", answers: ["nmap 192.168.1.1"], explanation: "<code>nmap</code> scanne les ports.", points: 25 },
            { question: "Comment ajouter une r√®gle iptables pour bloquer 1.2.3.4 ?", hint: "iptables INPUT DROP", answers: ["iptables -A INPUT -s 1.2.3.4 -j DROP"], explanation: "<code>iptables</code> g√®re le firewall.", points: 25 },
            { question: "Comment v√©rifier le hash SHA256 d'un fichier ?", hint: "sha256sum", answers: ["sha256sum file", "sha256sum fichier"], explanation: "<code>sha256sum</code> calcule le hash.", points: 25 },
            { question: "Comment monter un NFS server:/share sur /mnt ?", hint: "mount -t nfs", answers: ["mount -t nfs server:/share /mnt", "mount server:/share /mnt"], explanation: "<code>mount -t nfs</code> monte un NFS.", points: 25 },
            { question: "Comment limiter rsync √† 1MB/s ?", hint: "rsync bwlimit", answers: ["rsync --bwlimit=1000", "rsync --bwlimit=1m"], explanation: "<code>--bwlimit</code> limite la bande passante.", points: 25 },
            { question: "Comment voir les connexions r√©seau √©tablies ?", hint: "netstat grep ESTABLISHED", answers: ["netstat -an | grep ESTABLISHED", "ss state established"], explanation: "Filtre les connexions √©tablies.", points: 25 },
            { question: "Comment cr√©er un fichier swap de 1G ?", hint: "dd ou fallocate", answers: ["dd if=/dev/zero of=/swapfile bs=1G count=1", "fallocate -l 1G /swapfile"], explanation: "<code>dd</code> ou <code>fallocate</code> cr√©e le swap.", points: 25 },
            { question: "Comment lister les 10 plus gros fichiers dans /var ?", hint: "du sort head", answers: ["du -ah /var | sort -rh | head -10"], explanation: "Combine <code>du</code>, <code>sort</code>, <code>head</code>.", points: 25 },
            { question: "Comment ex√©cuter une commande toutes les 2 secondes ?", hint: "watch", answers: ["watch -n 2 command", "watch -n2 command"], explanation: "<code>watch -n 2</code> r√©p√®te la commande.", points: 25 }
        ]
    },
    docker: {
        beginner: [
            { question: "Comment lister les containers en cours ?", hint: "docker ps", answers: ["docker ps"], explanation: "<code>docker ps</code> liste les containers.", points: 10 },
            { question: "Comment lister les images Docker ?", hint: "docker images", answers: ["docker images", "docker image ls"], explanation: "<code>docker images</code> liste les images.", points: 10 },
            { question: "Comment arr√™ter le container 'web' ?", hint: "docker stop", answers: ["docker stop web"], explanation: "<code>docker stop</code> arr√™te un container.", points: 10 },
            { question: "Comment supprimer le container 'old' ?", hint: "docker rm", answers: ["docker rm old"], explanation: "<code>docker rm</code> supprime un container.", points: 10 },
            { question: "Comment t√©l√©charger l'image 'nginx' ?", hint: "docker pull", answers: ["docker pull nginx"], explanation: "<code>docker pull</code> t√©l√©charge une image.", points: 10 }
        ],
        intermediate: [
            { question: "Comment lancer nginx en arri√®re-plan sur le port 8080 ?", hint: "docker run -d -p", answers: ["docker run -d -p 8080:80 nginx", "docker run -dp 8080:80 nginx"], explanation: "<code>-d</code> d√©tache, <code>-p</code> mappe les ports.", points: 15 },
            { question: "Comment voir les logs du container 'app' ?", hint: "docker logs", answers: ["docker logs app"], explanation: "<code>docker logs</code> affiche les logs.", points: 15 },
            { question: "Comment lister tous les containers (m√™me arr√™t√©s) ?", hint: "docker ps -a", answers: ["docker ps -a", "docker ps --all"], explanation: "<code>docker ps -a</code> montre tous.", points: 15 },
            { question: "Comment construire une image avec le tag 'myapp:v1' ?", hint: "docker build -t", answers: ["docker build -t myapp:v1 ."], explanation: "<code>docker build -t</code> construit avec tag.", points: 15 },
            { question: "Comment supprimer l'image 'old:latest' ?", hint: "docker rmi", answers: ["docker rmi old:latest", "docker rmi old"], explanation: "<code>docker rmi</code> supprime une image.", points: 15 },
            { question: "Comment lancer un container nomm√© 'webserver' ?", hint: "docker run --name", answers: ["docker run --name webserver nginx", "docker run -d --name webserver nginx"], explanation: "<code>--name</code> nomme le container.", points: 15 },
            { question: "Comment suivre les logs en temps r√©el de 'app' ?", hint: "docker logs -f", answers: ["docker logs -f app", "docker logs --follow app"], explanation: "<code>docker logs -f</code> suit les logs.", points: 15 },
            { question: "Comment lister les volumes Docker ?", hint: "docker volume", answers: ["docker volume ls"], explanation: "<code>docker volume ls</code> liste les volumes.", points: 15 },
            { question: "Comment voir les d√©tails du container 'web' ?", hint: "docker inspect", answers: ["docker inspect web"], explanation: "<code>docker inspect</code> affiche les d√©tails.", points: 15 },
            { question: "Comment red√©marrer le container 'api' ?", hint: "docker restart", answers: ["docker restart api"], explanation: "<code>docker restart</code> red√©marre.", points: 15 }
        ],
        advanced: [
            { question: "Comment entrer en bash dans le container 'app' ?", hint: "docker exec -it", answers: ["docker exec -it app bash", "docker exec -it app /bin/bash", "docker exec -it app sh"], explanation: "<code>docker exec -it</code> ouvre un shell.", points: 20 },
            { question: "Comment cr√©er un r√©seau Docker 'mynet' ?", hint: "docker network create", answers: ["docker network create mynet"], explanation: "<code>docker network create</code> cr√©e un r√©seau.", points: 20 },
            { question: "Comment monter './data' dans '/app/data' ?", hint: "docker run -v", answers: ["docker run -v ./data:/app/data nginx"], explanation: "<code>-v</code> monte un volume.", points: 20 },
            { question: "Comment supprimer tous les containers arr√™t√©s ?", hint: "docker container prune", answers: ["docker container prune", "docker container prune -f"], explanation: "<code>prune</code> nettoie.", points: 20 },
            { question: "Comment copier '/app/log.txt' du container 'web' ?", hint: "docker cp", answers: ["docker cp web:/app/log.txt .", "docker cp web:/app/log.txt ./log.txt"], explanation: "<code>docker cp</code> copie.", points: 20 },
            { question: "Comment lancer docker-compose en arri√®re-plan ?", hint: "docker-compose up -d", answers: ["docker-compose up -d", "docker compose up -d"], explanation: "<code>up -d</code> lance en d√©tach√©.", points: 20 },
            { question: "Comment voir l'utilisation des ressources ?", hint: "docker stats", answers: ["docker stats"], explanation: "<code>docker stats</code> affiche CPU/RAM.", points: 20 },
            { question: "Comment taguer 'app' en 'registry.io/app:v2' ?", hint: "docker tag", answers: ["docker tag app registry.io/app:v2"], explanation: "<code>docker tag</code> ajoute un tag.", points: 20 },
            { question: "Comment pousser 'myapp:v1' vers un registry ?", hint: "docker push", answers: ["docker push myapp:v1"], explanation: "<code>docker push</code> pousse l'image.", points: 20 },
            { question: "Comment d√©finir DB_HOST=localhost au lancement ?", hint: "docker run -e", answers: ["docker run -e DB_HOST=localhost nginx"], explanation: "<code>-e</code> d√©finit une variable.", points: 20 },
            { question: "Comment limiter un container √† 512MB de RAM ?", hint: "docker run --memory", answers: ["docker run --memory=512m nginx", "docker run -m 512m nginx"], explanation: "<code>--memory</code> limite la RAM.", points: 20 },
            { question: "Comment lister les r√©seaux Docker ?", hint: "docker network", answers: ["docker network ls"], explanation: "<code>docker network ls</code> liste.", points: 20 },
            { question: "Comment arr√™ter et supprimer les services docker-compose ?", hint: "docker-compose down", answers: ["docker-compose down", "docker compose down"], explanation: "<code>down</code> arr√™te et supprime.", points: 20 },
            { question: "Comment voir l'historique d'une image ?", hint: "docker history", answers: ["docker history nginx"], explanation: "<code>docker history</code> affiche les couches.", points: 20 },
            { question: "Comment exporter le container 'app' en tar ?", hint: "docker export", answers: ["docker export app > app.tar", "docker export -o app.tar app"], explanation: "<code>docker export</code> exporte.", points: 20 }
        ]
    },
    kubernetes: {
        beginner: [
            { question: "Comment lister les pods ?", hint: "kubectl get", answers: ["kubectl get pods", "kubectl get pod"], explanation: "<code>kubectl get pods</code> liste.", points: 10 },
            { question: "Comment lister les namespaces ?", hint: "kubectl get ns", answers: ["kubectl get namespaces", "kubectl get ns"], explanation: "<code>kubectl get ns</code> liste.", points: 10 },
            { question: "Comment lister les services ?", hint: "kubectl get svc", answers: ["kubectl get services", "kubectl get svc"], explanation: "<code>kubectl get svc</code> liste.", points: 10 },
            { question: "Comment lister les deployments ?", hint: "kubectl get deploy", answers: ["kubectl get deployments", "kubectl get deploy"], explanation: "<code>kubectl get deploy</code> liste.", points: 10 },
            { question: "Comment lister les nodes ?", hint: "kubectl get nodes", answers: ["kubectl get nodes", "kubectl get node"], explanation: "<code>kubectl get nodes</code> liste.", points: 10 }
        ],
        intermediate: [
            { question: "Comment voir les d√©tails du pod 'nginx-pod' ?", hint: "kubectl describe", answers: ["kubectl describe pod nginx-pod"], explanation: "<code>kubectl describe</code> d√©taille.", points: 15 },
            { question: "Comment voir les logs du pod 'api-pod' ?", hint: "kubectl logs", answers: ["kubectl logs api-pod"], explanation: "<code>kubectl logs</code> affiche.", points: 15 },
            { question: "Comment appliquer 'deployment.yaml' ?", hint: "kubectl apply -f", answers: ["kubectl apply -f deployment.yaml"], explanation: "<code>kubectl apply -f</code> applique.", points: 15 },
            { question: "Comment supprimer le pod 'old-pod' ?", hint: "kubectl delete", answers: ["kubectl delete pod old-pod"], explanation: "<code>kubectl delete</code> supprime.", points: 15 },
            { question: "Comment lister les pods de tous les namespaces ?", hint: "kubectl get pods -A", answers: ["kubectl get pods --all-namespaces", "kubectl get pods -A"], explanation: "<code>-A</code> = tous namespaces.", points: 15 },
            { question: "Comment scaler 'web' √† 3 replicas ?", hint: "kubectl scale", answers: ["kubectl scale deployment web --replicas=3", "kubectl scale deploy web --replicas=3"], explanation: "<code>kubectl scale</code> change les replicas.", points: 15 },
            { question: "Comment entrer en shell dans 'app-pod' ?", hint: "kubectl exec -it", answers: ["kubectl exec -it app-pod -- /bin/bash", "kubectl exec -it app-pod -- bash", "kubectl exec -it app-pod -- sh"], explanation: "<code>kubectl exec -it</code> ouvre un shell.", points: 15 },
            { question: "Comment cr√©er le namespace 'production' ?", hint: "kubectl create ns", answers: ["kubectl create namespace production", "kubectl create ns production"], explanation: "<code>kubectl create ns</code> cr√©e.", points: 15 },
            { question: "Comment voir les events ?", hint: "kubectl get events", answers: ["kubectl get events"], explanation: "<code>kubectl get events</code> liste.", points: 15 },
            { question: "Comment suivre les logs en temps r√©el de 'web' ?", hint: "kubectl logs -f", answers: ["kubectl logs -f web", "kubectl logs --follow web"], explanation: "<code>kubectl logs -f</code> suit.", points: 15 }
        ],
        advanced: [
            { question: "Comment port-forward 'api' 8080 vers local 3000 ?", hint: "kubectl port-forward", answers: ["kubectl port-forward pod/api 3000:8080", "kubectl port-forward api 3000:8080"], explanation: "<code>port-forward</code> redirige.", points: 20 },
            { question: "Comment voir l'utilisation CPU/RAM des pods ?", hint: "kubectl top", answers: ["kubectl top pods", "kubectl top pod"], explanation: "<code>kubectl top</code> affiche.", points: 20 },
            { question: "Comment rollback le deployment 'web' ?", hint: "kubectl rollout undo", answers: ["kubectl rollout undo deployment/web", "kubectl rollout undo deployment web"], explanation: "<code>rollout undo</code> annule.", points: 20 },
            { question: "Comment voir le statut du rollout de 'api' ?", hint: "kubectl rollout status", answers: ["kubectl rollout status deployment/api", "kubectl rollout status deployment api"], explanation: "<code>rollout status</code> affiche.", points: 20 },
            { question: "Comment exposer 'web' sur port 80 en NodePort ?", hint: "kubectl expose", answers: ["kubectl expose deployment web --port=80 --type=NodePort"], explanation: "<code>kubectl expose</code> cr√©e un service.", points: 20 },
            { question: "Comment drainer le node 'worker-1' ?", hint: "kubectl drain", answers: ["kubectl drain worker-1", "kubectl drain worker-1 --ignore-daemonsets"], explanation: "<code>kubectl drain</code> √©vacue.", points: 20 },
            { question: "Comment voir les logs du container 'nginx' dans 'web-pod' ?", hint: "kubectl logs -c", answers: ["kubectl logs web-pod -c nginx"], explanation: "<code>-c</code> sp√©cifie le container.", points: 20 },
            { question: "Comment cr√©er un configmap depuis 'config.ini' ?", hint: "kubectl create configmap", answers: ["kubectl create configmap app-config --from-file=config.ini"], explanation: "<code>kubectl create configmap</code> cr√©e.", points: 20 },
            { question: "Comment lister les pods avec leurs labels ?", hint: "kubectl get pods --show-labels", answers: ["kubectl get pods --show-labels"], explanation: "<code>--show-labels</code> affiche.", points: 20 },
            { question: "Comment filtrer les pods avec label 'app=web' ?", hint: "kubectl get pods -l", answers: ["kubectl get pods -l app=web", "kubectl get pods --selector=app=web"], explanation: "<code>-l</code> filtre par label.", points: 20 },
            { question: "Comment √©diter le deployment 'api' ?", hint: "kubectl edit", answers: ["kubectl edit deployment api", "kubectl edit deploy api"], explanation: "<code>kubectl edit</code> ouvre l'√©diteur.", points: 20 },
            { question: "Comment copier '/tmp/log.txt' du pod 'web' ?", hint: "kubectl cp", answers: ["kubectl cp web:/tmp/log.txt ./log.txt"], explanation: "<code>kubectl cp</code> copie.", points: 20 },
            { question: "Comment voir l'historique des rollouts de 'web' ?", hint: "kubectl rollout history", answers: ["kubectl rollout history deployment/web", "kubectl rollout history deployment web"], explanation: "<code>rollout history</code> affiche.", points: 20 },
            { question: "Comment rendre 'worker-1' schedulable apr√®s maintenance ?", hint: "kubectl uncordon", answers: ["kubectl uncordon worker-1"], explanation: "<code>kubectl uncordon</code> r√©active.", points: 20 },
            { question: "Comment cr√©er un secret 'db-pass' avec 'mypassword' ?", hint: "kubectl create secret", answers: ["kubectl create secret generic db-pass --from-literal=password=mypassword"], explanation: "<code>kubectl create secret</code> cr√©e.", points: 20 }
        ]
    },
    ansible: {
        beginner: [
            { question: "Comment ex√©cuter le playbook 'site.yml' ?", hint: "ansible-playbook", answers: ["ansible-playbook site.yml"], explanation: "<code>ansible-playbook</code> ex√©cute.", points: 10 },
            { question: "Comment v√©rifier la version d'Ansible ?", hint: "ansible --version", answers: ["ansible --version"], explanation: "<code>ansible --version</code> affiche.", points: 10 },
            { question: "Comment tester la connexion √† tous les hosts ?", hint: "ansible all -m ping", answers: ["ansible all -m ping"], explanation: "<code>ansible all -m ping</code> teste.", points: 10 },
            { question: "Comment lister tous les hosts de l'inventaire ?", hint: "ansible --list-hosts", answers: ["ansible all --list-hosts"], explanation: "<code>--list-hosts</code> liste.", points: 10 },
            { question: "Comment ex√©cuter 'uptime' sur tous les hosts ?", hint: "ansible all -a", answers: ["ansible all -m command -a 'uptime'", "ansible all -a 'uptime'"], explanation: "<code>-a</code> passe les arguments.", points: 10 }
        ],
        intermediate: [
            { question: "Comment ex√©cuter avec l'inventaire 'hosts.ini' ?", hint: "ansible-playbook -i", answers: ["ansible-playbook -i hosts.ini site.yml"], explanation: "<code>-i</code> sp√©cifie l'inventaire.", points: 15 },
            { question: "Comment ex√©cuter en mode check (dry-run) ?", hint: "ansible-playbook --check", answers: ["ansible-playbook --check site.yml", "ansible-playbook -C site.yml"], explanation: "<code>--check</code> simule.", points: 15 },
            { question: "Comment d√©finir 'env=prod' au lancement ?", hint: "ansible-playbook -e", answers: ["ansible-playbook -e env=prod site.yml", "ansible-playbook --extra-vars env=prod site.yml"], explanation: "<code>-e</code> d√©finit une variable.", points: 15 },
            { question: "Comment limiter aux hosts 'webservers' ?", hint: "ansible-playbook -l", answers: ["ansible-playbook -l webservers site.yml", "ansible-playbook --limit webservers site.yml"], explanation: "<code>-l</code> limite.", points: 15 },
            { question: "Comment augmenter la verbosit√© ?", hint: "ansible-playbook -v", answers: ["ansible-playbook -v site.yml", "ansible-playbook -vvv site.yml"], explanation: "<code>-v</code> augmente la verbosit√©.", points: 15 },
            { question: "Comment lister les tasks sans ex√©cuter ?", hint: "ansible-playbook --list-tasks", answers: ["ansible-playbook --list-tasks site.yml"], explanation: "<code>--list-tasks</code> liste.", points: 15 },
            { question: "Comment ex√©cuter seulement le tag 'deploy' ?", hint: "ansible-playbook --tags", answers: ["ansible-playbook --tags deploy site.yml", "ansible-playbook -t deploy site.yml"], explanation: "<code>--tags</code> filtre.", points: 15 },
            { question: "Comment cr√©er un nouveau r√¥le 'webserver' ?", hint: "ansible-galaxy init", answers: ["ansible-galaxy init webserver"], explanation: "<code>ansible-galaxy init</code> cr√©e.", points: 15 },
            { question: "Comment valider la syntaxe d'un playbook ?", hint: "ansible-playbook --syntax-check", answers: ["ansible-playbook --syntax-check site.yml"], explanation: "<code>--syntax-check</code> valide.", points: 15 },
            { question: "Comment demander le mot de passe SSH ?", hint: "ansible-playbook -k", answers: ["ansible-playbook -k site.yml", "ansible-playbook --ask-pass site.yml"], explanation: "<code>-k</code> demande le password.", points: 15 }
        ],
        advanced: [
            { question: "Comment chiffrer 'vars.yml' avec vault ?", hint: "ansible-vault encrypt", answers: ["ansible-vault encrypt vars.yml"], explanation: "<code>ansible-vault encrypt</code> chiffre.", points: 20 },
            { question: "Comment √©diter un fichier chiffr√© ?", hint: "ansible-vault edit", answers: ["ansible-vault edit secrets.yml"], explanation: "<code>ansible-vault edit</code> √©dite.", points: 20 },
            { question: "Comment ex√©cuter avec un vault password file ?", hint: "ansible-playbook --vault-password-file", answers: ["ansible-playbook --vault-password-file .vault_pass site.yml"], explanation: "<code>--vault-password-file</code> utilise le fichier.", points: 20 },
            { question: "Comment commencer √† la task 'Install nginx' ?", hint: "ansible-playbook --start-at-task", answers: ["ansible-playbook --start-at-task='Install nginx' site.yml"], explanation: "<code>--start-at-task</code> d√©marre.", points: 20 },
            { question: "Comment sauter le tag 'slow' ?", hint: "ansible-playbook --skip-tags", answers: ["ansible-playbook --skip-tags slow site.yml"], explanation: "<code>--skip-tags</code> ignore.", points: 20 },
            { question: "Comment ex√©cuter step-by-step ?", hint: "ansible-playbook --step", answers: ["ansible-playbook --step site.yml"], explanation: "<code>--step</code> demande confirmation.", points: 20 },
            { question: "Comment limiter √† 2 hosts en parall√®le ?", hint: "ansible-playbook -f", answers: ["ansible-playbook -f 2 site.yml", "ansible-playbook --forks 2 site.yml"], explanation: "<code>-f</code> limite le parall√©lisme.", points: 20 },
            { question: "Comment installer une collection Galaxy ?", hint: "ansible-galaxy collection install", answers: ["ansible-galaxy collection install community.general"], explanation: "<code>collection install</code> installe.", points: 20 },
            { question: "Comment ex√©cuter en devenant root (sudo) ?", hint: "ansible-playbook -b", answers: ["ansible-playbook -b site.yml", "ansible-playbook --become site.yml"], explanation: "<code>-b</code> active sudo.", points: 20 },
            { question: "Comment voir un fichier vault sans l'√©diter ?", hint: "ansible-vault view", answers: ["ansible-vault view secrets.yml"], explanation: "<code>ansible-vault view</code> affiche.", points: 20 },
            { question: "Comment copier un fichier avec le module ad-hoc ?", hint: "ansible -m copy -a", answers: ["ansible all -m copy -a 'src=/tmp/file dest=/tmp/file'"], explanation: "<code>-m copy -a</code> copie.", points: 20 },
            { question: "Comment changer le password vault ?", hint: "ansible-vault rekey", answers: ["ansible-vault rekey secrets.yml"], explanation: "<code>ansible-vault rekey</code> change.", points: 20 },
            { question: "Comment lister les hosts affect√©s ?", hint: "ansible-playbook --list-hosts", answers: ["ansible-playbook --list-hosts site.yml"], explanation: "<code>--list-hosts</code> liste.", points: 20 },
            { question: "Comment collecter les facts d'un host ?", hint: "ansible -m setup", answers: ["ansible hostname -m setup", "ansible all -m setup"], explanation: "<code>-m setup</code> collecte.", points: 20 },
            { question: "Comment vider le cache des facts ?", hint: "ansible-playbook --flush-cache", answers: ["ansible-playbook --flush-cache site.yml"], explanation: "<code>--flush-cache</code> vide.", points: 20 }
        ]
    }
};

const categoryConfig = {
    linux: { icon: 'üêß', name: 'Linux', levels: ['beginner', 'intermediate', 'advanced', 'expert'], color: 'linux' },
    docker: { icon: 'üê≥', name: 'Docker', levels: ['beginner', 'intermediate', 'advanced'], color: 'docker' },
    kubernetes: { icon: '‚ò∏Ô∏è', name: 'Kubernetes', levels: ['beginner', 'intermediate', 'advanced'], color: 'kubernetes' },
    ansible: { icon: 'üÖ∞Ô∏è', name: 'Ansible', levels: ['beginner', 'intermediate', 'advanced'], color: 'ansible' }
};

const levelConfig = {
    beginner: { name: 'D√©butant', stars: '‚≠ê', class: 'beginner', difficulty: 'easy', timer: 30 },
    intermediate: { name: 'Interm√©diaire', stars: '‚≠ê‚≠ê', class: 'intermediate', difficulty: 'medium', timer: 30 },
    advanced: { name: 'Avanc√©', stars: '‚≠ê‚≠ê‚≠ê', class: 'advanced', difficulty: 'hard', timer: 25 },
    expert: { name: 'Expert', stars: 'üî•üî•üî•üî•', class: 'expert', difficulty: 'expert', timer: 20 }
};

let currentCategory = '', currentLevel = '', currentQuestionIndex = 0, score = 0, streak = 0, bestStreak = 0, correctCount = 0, questionTimes = [], timer = 30, timerInterval = null, shuffledQuestions = [];

const categorySelection = document.getElementById('categorySelection');
const levelSelection = document.getElementById('levelSelection');
const quizContainer = document.getElementById('quizContainer');
const resultsScreen = document.getElementById('resultsScreen');
const answerInput = document.getElementById('answerInput');
const feedback = document.getElementById('feedback');

function selectCategory(category) {
    currentCategory = category;
    categorySelection.style.display = 'none';
    levelSelection.classList.add('active');
    const config = categoryConfig[category];
    document.getElementById('levelHeaderIcon').textContent = config.icon;
    document.getElementById('levelHeaderTitle').textContent = config.name;
    const levelsGrid = document.getElementById('levelsGrid');
    levelsGrid.innerHTML = '';
    config.levels.forEach(level => {
        const lConfig = levelConfig[level];
        const qCount = questions[category][level].length;
        levelsGrid.innerHTML += '<div class="level-card '+lConfig.class+'" onclick="startQuiz(\''+level+'\')"><h4>'+lConfig.name+'</h4><div class="stars">'+lConfig.stars+'</div><div class="questions-count">'+qCount+' questions</div></div>';
    });
}

function backToCategories() {
    levelSelection.classList.remove('active');
    resultsScreen.classList.remove('active');
    quizContainer.classList.remove('active');
    categorySelection.style.display = 'grid';
    clearInterval(timerInterval);
}

function backToLevels() {
    resultsScreen.classList.remove('active');
    levelSelection.classList.add('active');
}

function startQuiz(level) {
    currentLevel = level;
    currentQuestionIndex = 0; score = 0; streak = 0; bestStreak = 0; correctCount = 0; questionTimes = [];
    shuffledQuestions = [...questions[currentCategory][level]].sort(() => Math.random() - 0.5);
    levelSelection.classList.remove('active');
    quizContainer.classList.add('active');
    document.getElementById('totalQ').textContent = shuffledQuestions.length;
    const catConfig = categoryConfig[currentCategory];
    const questionCategory = document.getElementById('questionCategory');
    questionCategory.textContent = catConfig.name;
    questionCategory.className = 'question-category ' + catConfig.color;
    updateStats();
    loadQuestion();
}

function loadQuestion() {
    const q = shuffledQuestions[currentQuestionIndex];
    const lConfig = levelConfig[currentLevel];
    document.getElementById('questionNumber').textContent = 'Q' + (currentQuestionIndex + 1);
    document.getElementById('questionText').textContent = q.question;
    document.getElementById('questionHint').innerHTML = 'üí° <strong>Indice :</strong> ' + q.hint;
    document.getElementById('questionPoints').textContent = '+' + q.points + ' pts';
    document.getElementById('currentQ').textContent = currentQuestionIndex + 1;
    const difficultyEl = document.getElementById('questionDifficulty');
    difficultyEl.textContent = lConfig.name;
    difficultyEl.className = 'question-difficulty ' + lConfig.difficulty;
    document.getElementById('progressBar').style.width = ((currentQuestionIndex / shuffledQuestions.length) * 100) + '%';
    answerInput.value = '';
    answerInput.className = 'answer-input';
    answerInput.disabled = false;
    document.getElementById('submitBtn').disabled = false;
    feedback.classList.remove('show', 'correct', 'incorrect');
    answerInput.focus();
    startTimer();
}

function startTimer() {
    clearInterval(timerInterval);
    timer = levelConfig[currentLevel].timer;
    updateTimerDisplay();
    timerInterval = setInterval(() => {
        timer--;
        updateTimerDisplay();
        document.getElementById('timer').classList.toggle('timer-warning', timer <= 10);
        if (timer <= 0) { clearInterval(timerInterval); timeUp(); }
    }, 1000);
}

function updateTimerDisplay() { document.getElementById('timer').textContent = timer; }

function timeUp() {
    answerInput.disabled = true;
    document.getElementById('submitBtn').disabled = true;
    answerInput.className = 'answer-input incorrect';
    streak = 0;
    updateStats();
    const q = shuffledQuestions[currentQuestionIndex];
    showFeedback(false, '‚è±Ô∏è Temps √©coul√© ! R√©ponse : <code>' + q.answers[0] + '</code><br><br>' + q.explanation);
}

function checkAnswer() {
    clearInterval(timerInterval);
    const answer = answerInput.value.trim().toLowerCase();
    const q = shuffledQuestions[currentQuestionIndex];
    questionTimes.push(levelConfig[currentLevel].timer - timer);
    const isCorrect = q.answers.some(a => answer.replace(/\s+/g, ' ').trim() === a.toLowerCase().replace(/\s+/g, ' ').trim());
    answerInput.disabled = true;
    document.getElementById('submitBtn').disabled = true;
    if (isCorrect) {
        answerInput.className = 'answer-input correct';
        let points = q.points;
        if (timer > 20) points += 5;
        if (streak >= 3) points += Math.floor(streak * 2);
        score += points; streak++; correctCount++;
        if (streak > bestStreak) bestStreak = streak;
        showFeedback(true, q.explanation + '<br><br>üéØ +' + points + ' points' + (timer > 20 ? ' (bonus rapidit√© !)' : ''));
    } else {
        answerInput.className = 'answer-input incorrect';
        streak = 0;
        showFeedback(false, 'R√©ponse : <code>' + q.answers[0] + '</code><br><br>' + q.explanation);
    }
    updateStats();
}

function showFeedback(correct, text) {
    feedback.className = 'feedback show ' + (correct ? 'correct' : 'incorrect');
    document.getElementById('feedbackIcon').textContent = correct ? '‚úÖ' : '‚ùå';
    document.getElementById('feedbackTitle').textContent = correct ? 'Correct !' : 'Incorrect';
    document.getElementById('feedbackText').innerHTML = text;
    document.getElementById('nextBtn').textContent = currentQuestionIndex >= shuffledQuestions.length - 1 ? 'Voir les r√©sultats ‚Üí' : 'Question suivante ‚Üí';
}

function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex >= shuffledQuestions.length) showResults();
    else loadQuestion();
}

function updateStats() {
    document.getElementById('score').textContent = score;
    document.getElementById('streak').textContent = streak;
    document.getElementById('streakFire').style.display = streak >= 3 ? 'inline' : 'none';
}

function showResults() {
    clearInterval(timerInterval);
    quizContainer.classList.remove('active');
    resultsScreen.classList.add('active');
    const totalQuestions = shuffledQuestions.length;
    const percentage = Math.round((correctCount / totalQuestions) * 100);
    const avgTime = questionTimes.length > 0 ? Math.round(questionTimes.reduce((a, b) => a + b, 0) / questionTimes.length) : 0;
    document.getElementById('finalScore').textContent = score;
    document.getElementById('correctAnswers').textContent = correctCount + '/' + totalQuestions;
    document.getElementById('bestStreak').textContent = bestStreak;
    document.getElementById('avgTime').textContent = avgTime + 's';
    const gradeEl = document.getElementById('resultsGrade');
    const iconEl = document.getElementById('resultsIcon');
    const titleEl = document.getElementById('resultsTitle');
    const subtitleEl = document.getElementById('resultsSubtitle');
    const catConfig = categoryConfig[currentCategory];
    if (percentage >= 90) { gradeEl.className = 'results-grade excellent'; gradeEl.textContent = 'üèÜ Expert ' + catConfig.name + ' !'; iconEl.textContent = 'üèÜ'; titleEl.textContent = 'Incroyable !'; subtitleEl.textContent = 'Tu ma√Ætrises ' + catConfig.name + ' !'; }
    else if (percentage >= 70) { gradeEl.className = 'results-grade good'; gradeEl.textContent = '‚≠ê Tr√®s bien !'; iconEl.textContent = 'üåü'; titleEl.textContent = 'Excellent !'; subtitleEl.textContent = 'Solides connaissances !'; }
    else if (percentage >= 50) { gradeEl.className = 'results-grade average'; gradeEl.textContent = 'üëç Pas mal !'; iconEl.textContent = 'üí™'; titleEl.textContent = 'Bien jou√© !'; subtitleEl.textContent = 'Continue √† pratiquer !'; }
    else { gradeEl.className = 'results-grade poor'; gradeEl.textContent = 'üìö √Ä r√©viser'; iconEl.textContent = 'üìñ'; titleEl.textContent = 'Continue !'; subtitleEl.textContent = 'La pratique rend parfait !'; }
}

function restartQuiz() { startQuiz(currentLevel); }

function quitQuiz() {
    if (confirm('Quitter ? Ta progression sera perdue.')) {
        clearInterval(timerInterval);
        quizContainer.classList.remove('active');
        levelSelection.classList.add('active');
    }
}

answerInput.addEventListener('keypress', e => { if (e.key === 'Enter' && !document.getElementById('submitBtn').disabled) checkAnswer(); });
document.addEventListener('keypress', e => { if (e.key === 'Enter' && feedback.classList.contains('show')) nextQuestion(); });
</script>
</body>
</html>
